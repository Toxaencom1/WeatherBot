<?xml version="1.1" encoding="UTF-8" standalone="no"?>
<databaseChangeLog xmlns="http://www.liquibase.org/xml/ns/dbchangelog" xmlns:ext="http://www.liquibase.org/xml/ns/dbchangelog-ext" xmlns:pro="http://www.liquibase.org/xml/ns/pro" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:schemaLocation="http://www.liquibase.org/xml/ns/dbchangelog-ext http://www.liquibase.org/xml/ns/dbchangelog/dbchangelog-ext.xsd http://www.liquibase.org/xml/ns/pro http://www.liquibase.org/xml/ns/pro/liquibase-pro-latest.xsd http://www.liquibase.org/xml/ns/dbchangelog http://www.liquibase.org/xml/ns/dbchangelog/dbchangelog-latest.xsd">
    <changeSet author="TaXaH (generated)" id="1734529752282-1">
        <createTable tableName="cloud_cover">
            <column name="total" type="INT">
                <constraints nullable="false"/>
            </column>
            <column autoIncrement="true" name="id" type="BIGINT">
                <constraints nullable="false" primaryKey="true"/>
            </column>
        </createTable>
    </changeSet>
    <changeSet author="TaXaH (generated)" id="1734529752282-2">
        <createTable tableName="current_weather">
            <column name="cloud_cover" type="INT">
                <constraints nullable="false"/>
            </column>
            <column name="icon_num" type="INT">
                <constraints nullable="false"/>
            </column>
            <column name="temperature" type="DOUBLE">
                <constraints nullable="false"/>
            </column>
            <column autoIncrement="true" name="id" type="BIGINT">
                <constraints nullable="false" primaryKey="true"/>
            </column>
            <column name="precipitation_id" type="BIGINT">
                <constraints unique="true"/>
            </column>
            <column name="wind_id" type="BIGINT">
                <constraints unique="true"/>
            </column>
            <column name="icon" type="VARCHAR(255)"/>
            <column name="summary" type="VARCHAR(255)"/>
        </createTable>
    </changeSet>
    <changeSet author="TaXaH (generated)" id="1734529752282-3">
        <createTable tableName="hourly_data">
            <column name="icon" type="INT">
                <constraints nullable="false"/>
            </column>
            <column name="temperature" type="DOUBLE">
                <constraints nullable="false"/>
            </column>
            <column name="cloud_cover_id" type="BIGINT">
                <constraints unique="true"/>
            </column>
            <column name="date" type="datetime(6)"/>
            <column autoIncrement="true" name="id" type="BIGINT">
                <constraints nullable="false" primaryKey="true"/>
            </column>
            <column name="precipitation_id" type="BIGINT">
                <constraints unique="true"/>
            </column>
            <column name="wind_id" type="BIGINT">
                <constraints unique="true"/>
            </column>
            <column name="weather" type="VARCHAR(255)"/>
            <column name="summary" type="ENUM('CLEAR', 'CLEAR_NIGHT', 'CLOUDY', 'CLOUDY_NIGHT', 'FOG', 'FREEZING_RAIN', 'HAIL', 'LIGHT_RAIN', 'LIGHT_SNOW', 'LOCAL_THUNDERSTORMS', 'LOCAL_THUNDERSTORMS_NIGHT', 'MOSTLY_CLEAR', 'MOSTLY_CLEAR_NIGHT', 'MOSTLY_CLOUDY', 'MOSTLY_CLOUDY_NIGHT', 'MOSTLY_SUNNY', 'NOT_AVAILABLE', 'OVERCAST', 'OVERCAST_LOW_CLOUDS', 'OVERCAST_LOW_CLOUDS_NIGHT', 'PARTLY_CLEAR', 'PARTLY_CLEAR_NIGHT', 'PARTLY_SUNNY', 'POSSIBLE_FREEZING_RAIN', 'POSSIBLE_RAIN', 'POSSIBLE_RAIN_AND_SNOW', 'POSSIBLE_RAIN_AND_SNOW_NIGHT', 'POSSIBLE_SNOW', 'RAIN', 'RAIN_AND_SNOW', 'RAIN_AND_SNOW_NIGHT', 'RAIN_SHOWER', 'RAIN_SHOWER_NIGHT', 'SNOW', 'SNOW_SHOWER', 'SNOW_SHOWER_NIGHT', 'SUNNY', 'THUNDERSTORM')"/>
        </createTable>
    </changeSet>
    <changeSet author="TaXaH (generated)" id="1734529752282-4">
        <createTable tableName="hourly_weather">
            <column autoIncrement="true" name="id" type="BIGINT">
                <constraints nullable="false" primaryKey="true"/>
            </column>
        </createTable>
    </changeSet>
    <changeSet author="TaXaH (generated)" id="1734529752282-5">
        <createTable tableName="hourly_weather_data">
            <column name="data_id" type="BIGINT">
                <constraints nullable="false" unique="true"/>
            </column>
            <column name="hourly_weather_id" type="BIGINT">
                <constraints nullable="false"/>
            </column>
        </createTable>
    </changeSet>
    <changeSet author="TaXaH (generated)" id="1734529752282-6">
        <createTable tableName="precipitation">
            <column name="total" type="DOUBLE">
                <constraints nullable="false"/>
            </column>
            <column autoIncrement="true" name="id" type="BIGINT">
                <constraints nullable="false" primaryKey="true"/>
            </column>
            <column name="type" type="ENUM('FROZEN_RAIN', 'ICE_PELLETS', 'NONE', 'RAIN', 'RAIN_SNOW', 'SNOW')">
                <constraints nullable="false"/>
            </column>
        </createTable>
    </changeSet>
    <changeSet author="TaXaH (generated)" id="1734529752282-7">
        <createTable tableName="subscriber">
            <column name="chat_id" type="BIGINT"/>
            <column autoIncrement="true" name="id" type="BIGINT">
                <constraints nullable="false" primaryKey="true"/>
            </column>
            <column name="name" type="VARCHAR(255)"/>
        </createTable>
    </changeSet>
    <changeSet author="TaXaH (generated)" id="1734529752282-8">
        <createTable tableName="weather_response_data">
            <column name="created_day" type="date"/>
            <column name="elevation" type="INT">
                <constraints nullable="false"/>
            </column>
            <column name="current_weather_id" type="BIGINT">
                <constraints unique="true"/>
            </column>
            <column name="hourly_weather_id" type="BIGINT">
                <constraints unique="true"/>
            </column>
            <column autoIncrement="true" name="id" type="BIGINT">
                <constraints nullable="false" primaryKey="true"/>
            </column>
            <column name="lat" type="VARCHAR(255)"/>
            <column name="lon" type="VARCHAR(255)"/>
            <column name="timezone" type="VARCHAR(255)"/>
            <column name="units" type="VARCHAR(255)"/>
        </createTable>
    </changeSet>
    <changeSet author="TaXaH (generated)" id="1734529752282-9">
        <createTable tableName="wind">
            <column name="angle" type="INT">
                <constraints nullable="false"/>
            </column>
            <column name="speed" type="DOUBLE">
                <constraints nullable="false"/>
            </column>
            <column autoIncrement="true" name="id" type="BIGINT">
                <constraints nullable="false" primaryKey="true"/>
            </column>
            <column name="dir" type="VARCHAR(255)"/>
        </createTable>
    </changeSet>
    <changeSet author="TaXaH (generated)" id="1734529752282-10">
        <createIndex associatedWith="" indexName="FKhwe3ogb36m1di0eijw7s7cua" tableName="hourly_weather_data">
            <column name="hourly_weather_id"/>
        </createIndex>
    </changeSet>
    <changeSet author="TaXaH (generated)" id="1734529752282-11">
        <addForeignKeyConstraint baseColumnNames="hourly_weather_id" baseTableName="weather_response_data" constraintName="FK56xqxf20otnt82twnchiamwqo" deferrable="false" initiallyDeferred="false" onDelete="RESTRICT" onUpdate="RESTRICT" referencedColumnNames="id" referencedTableName="hourly_weather" validate="true"/>
    </changeSet>
    <changeSet author="TaXaH (generated)" id="1734529752282-12">
        <addForeignKeyConstraint baseColumnNames="wind_id" baseTableName="current_weather" constraintName="FK7esr9vn2efdtojqpcno3o50o1" deferrable="false" initiallyDeferred="false" onDelete="RESTRICT" onUpdate="RESTRICT" referencedColumnNames="id" referencedTableName="wind" validate="true"/>
    </changeSet>
    <changeSet author="TaXaH (generated)" id="1734529752282-13">
        <addForeignKeyConstraint baseColumnNames="precipitation_id" baseTableName="current_weather" constraintName="FK82889ra11cv6fonhx1c6v955o" deferrable="false" initiallyDeferred="false" onDelete="RESTRICT" onUpdate="RESTRICT" referencedColumnNames="id" referencedTableName="precipitation" validate="true"/>
    </changeSet>
    <changeSet author="TaXaH (generated)" id="1734529752282-14">
        <addForeignKeyConstraint baseColumnNames="precipitation_id" baseTableName="hourly_data" constraintName="FKau2jeq7e730872dprd3at00m8" deferrable="false" initiallyDeferred="false" onDelete="RESTRICT" onUpdate="RESTRICT" referencedColumnNames="id" referencedTableName="precipitation" validate="true"/>
    </changeSet>
    <changeSet author="TaXaH (generated)" id="1734529752282-15">
        <addForeignKeyConstraint baseColumnNames="wind_id" baseTableName="hourly_data" constraintName="FKbjq24odn8bhjxk1ufxhcdo77d" deferrable="false" initiallyDeferred="false" onDelete="RESTRICT" onUpdate="RESTRICT" referencedColumnNames="id" referencedTableName="wind" validate="true"/>
    </changeSet>
    <changeSet author="TaXaH (generated)" id="1734529752282-16">
        <addForeignKeyConstraint baseColumnNames="cloud_cover_id" baseTableName="hourly_data" constraintName="FKer2jrqjh7shimtc60v2at3tnp" deferrable="false" initiallyDeferred="false" onDelete="RESTRICT" onUpdate="RESTRICT" referencedColumnNames="id" referencedTableName="cloud_cover" validate="true"/>
    </changeSet>
    <changeSet author="TaXaH (generated)" id="1734529752282-17">
        <addForeignKeyConstraint baseColumnNames="hourly_weather_id" baseTableName="hourly_weather_data" constraintName="FKhwe3ogb36m1di0eijw7s7cua" deferrable="false" initiallyDeferred="false" onDelete="RESTRICT" onUpdate="RESTRICT" referencedColumnNames="id" referencedTableName="hourly_weather" validate="true"/>
    </changeSet>
    <changeSet author="TaXaH (generated)" id="1734529752282-18">
        <addForeignKeyConstraint baseColumnNames="data_id" baseTableName="hourly_weather_data" constraintName="FKstf5rjdcjwxdaiiwihakg8nbo" deferrable="false" initiallyDeferred="false" onDelete="RESTRICT" onUpdate="RESTRICT" referencedColumnNames="id" referencedTableName="hourly_data" validate="true"/>
    </changeSet>
    <changeSet author="TaXaH (generated)" id="1734529752282-19">
        <addForeignKeyConstraint baseColumnNames="current_weather_id" baseTableName="weather_response_data" constraintName="FKtathb3yqm08ppj52vcghipdhp" deferrable="false" initiallyDeferred="false" onDelete="RESTRICT" onUpdate="RESTRICT" referencedColumnNames="id" referencedTableName="current_weather" validate="true"/>
    </changeSet>
</databaseChangeLog>
